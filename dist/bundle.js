(()=>{"use strict";const e=document.getElementById("todos"),t=(e,t)=>({name:e,list:t}),o=(e,t)=>t.push(e);let d=[];const n=document.getElementById("add-project"),c=document.querySelector("#projects"),a=document.querySelector("#project-form"),l=document.querySelector("#create"),r=document.querySelector("#form-input"),s=document.querySelector("#cancel"),i=document.querySelector(".todo-item"),u=document.querySelector("#todo-controls"),m=document.querySelector("#project-title"),p=document.querySelector(".remove-form"),v=document.querySelector(".todo-form"),L=document.querySelector(".check"),y=()=>{localStorage.setItem("savedData",JSON.stringify(d))},E=e=>{e.classList.add("todo-btn")},C=()=>{document.querySelectorAll(".to-remove").forEach((e=>e.parentNode.removeChild(e)))},h=t=>{const o=document.createElement("p");o.textContent=t.name,o.classList.add("to-remove"),o.classList.add("bolden"),m.appendChild(o),t.list.forEach(((o,d)=>{const n=document.createElement("p"),c=document.createElement("p"),a=document.createElement("p"),l=document.createElement("div");document.createElement("div").classList.add("task"),((e,t)=>{e.addEventListener("click",(()=>{t.classList.remove("d-none")}))})(n,l),n.href="#",l.classList.add(d),n.classList.add("to-remove"),c.classList.add("to-remove"),a.classList.add("to-remove"),n.classList.add("title"),c.classList.add("due-date"),a.classList.add("priority"),n.textContent=o.title;const r=new Date(o.dueDate);c.textContent="Due by: "+r,a.textContent="Priority: "+o.priority,l.classList.add("to-remove"),((t,o,d,n)=>{const c=document.createElement("p"),a=document.createElement("button"),l=document.createElement("button");E(a),E(l),((t,o)=>{t.addEventListener("click",(()=>{var t;document.querySelectorAll(".del-btn").forEach((e=>e.parentNode.removeChild(e))),v.classList.remove("d-none"),t=o,e.title.value=t.title,e.description.value=t.description,e.date.value=t.dueDate,e.date.priority=t.priority;const d=document.createElement("button");d.textContent="Save",d.classList.add("del-btn"),E(d),v.appendChild(d),d.addEventListener("click",(()=>{document.querySelector(".del-btn").classList.add("d-none"),(t=>{t.title=e.title.value,t.description=e.description.value,t.dueDate=e.date.value,t.priority=e.priority.value})(o),y(),v.classList.add("d-none"),location.reload()}))}))})(a,d),a.textContent="Edit Todo",l.textContent="Delete Todo",c.classList.add("priority"),c.innerHTML="Description: ",c.innerHTML+=d.description,l.addEventListener("click",(()=>{o.list.splice(n,1),y(),location.reload()})),t.appendChild(c),t.appendChild(a),t.appendChild(l)})(l,t,o,d),l.classList.add("d-none"),L.appendChild(n),L.appendChild(c),L.appendChild(a),L.appendChild(l)}))},S=()=>{e.title.value="",e.description.value="",e.date.value=""},q=()=>{document.querySelectorAll(".clear").forEach((e=>e.parentNode.removeChild(e))),d.forEach(((t,n)=>{const a=document.createElement("li"),l=((t,d,n)=>{const c=document.createElement("button"),a=document.createElement("button");return t.addEventListener("click",(()=>{document.querySelectorAll(".btns").forEach((e=>e.parentNode.removeChild(e))),document.querySelector(".todo-form").classList.add("d-none"),C(),h(d),i.classList.remove("d-none"),a.textContent="Delete Project",a.classList.add("btns"),a.id=n,u.appendChild(a),u.appendChild(c),c.textContent="Add Todo",c.classList.add("btns"),E(c),E(a),c.addEventListener("click",(()=>{S(),document.querySelector(".todo-form").classList.remove("d-none"),(t=>{document.querySelectorAll(".del-btn").forEach((e=>e.parentNode.removeChild(e)));const d=document.createElement("button");E(d),d.classList.add("del-btn"),d.textContent="Create Todo",v.appendChild(d),d.addEventListener("click",(()=>{if((()=>{const t=e.title.value,o=e.description.value,d=e.date.value,n=e.priority.value;return""!==t&&""!==o&&""!==d&&""!==n||(document.querySelector(".form").classList.remove("d-none"),!1)})()){const d={title:e.title.value,description:e.description.value,dueDate:e.date.value,priority:e.priority.value};o(d,t.list),y(),C(),h(t),S(),document.querySelector(".todo-form").classList.add("d-none")}}))})(d)}))})),a})(a,t,n);var r;(r=l).addEventListener("click",(()=>{const e=parseInt(r.id,10);d.splice(e,1),y(),location.reload()})),l.onclick=q,a.textContent=t.name,a.classList.add("clear"),a.classList.add("project-item"),c.appendChild(a)}))},f=()=>{d=[];const e=t("Default Project",[]);o(e,d)};localStorage.savedData?(d=JSON.parse(localStorage.getItem("savedData")),0===d.length&&(f(),y())):(f(),y()),q(),s.addEventListener("click",(()=>{r.value="",a.classList.add("d-none")})),l.addEventListener("click",(()=>{if(null==r.value||""===r.value)return;const e=t(r.value,[]);o(e,d),y(),a.classList.add("d-none"),r.value="",q()})),n.addEventListener("click",(()=>{a.classList.remove("d-none")})),p.addEventListener("click",(()=>{document.querySelector(".todo-form").classList.add("d-none")}))})();